<!-- index.html -->
<!doctype html>

<!-- ASSIGN OUR ANGULAR MODULE -->
<html ng-app="practicePortal">
<head>
    <!-- META -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- Optimize mobile viewport -->

    <title>Practice Portal</title>

    <!-- SCROLLS -->
    <link rel="stylesheet" type="text/css" href="stylesheets/main.css">
    <!-- <link href="/stylesheets/simple-sidebar.css" rel="stylesheet"> -->

    <!-- SPELLS -->
    
    <script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script><!-- load jquery -->
    <script src="//ajax.googleapis.com/ajax/libs/angularjs/1.0.8/angular.min.js">
    </script><!-- load angular -->
    <script src="//rawgithub.com/GoDisco/ngFacebook/master/ngFacebook.js"></script>
    <script type="text/javascript" src="/javascripts/main.js"></script>

</head>

<body ng-controller="DemoCtrl">
<div class="login-container" ng-show="!isLoggedIn">
    <div class="small-container">
    <h3>welcome to</h3>
    <h1>practice portal</h1>
    Practice Portal is an online community of musicians who share and improve their practice methods through live stream.
              <br>
              For musicians, by musicians.
     <br>     
      <a href="" ng-click = "login()" class="button">log in with facebook</a>
  
  </div>
</div>

<div class="flex-container" ng-show="isLoggedIn">
      <div class="header">
      <div class="left-header">
      <a href="#"><img src="../images/pplogo.png" ng-click="getAllVideos()"></a>
      <div class="instrument-button">
        <a href="#" class="instrument-links" ng-click="show = true" >{{navInstrument}}</a>
      </div>

             </div>
             <div class="right-header">      
             <label><input ng-model="searchText" placeholder="search" class="searchbar"></label>
             <a href="#" ng-show="isLoggedIn" ng-click="logout()" class="header-links">log out</a>
             <a href="" class="live-button" ng-click="showLiveLinks = !showLiveLinks" style="position:relative"> go live </a>
             </div>
      </div>
       <div ng-show="show" class="instrument-nav">
       <div ng-repeat="instrument in groupInstruments">
                <a href="#" ng-click="setInstrument(instrument)">{{instrument}}</a>
                </div>
        </div>

        <div ng-show="showLiveLinks" class="live-container">
          <a ng-click="showLiveLinks = false" href="https://www.facebook.com/groups/353600324976899/" target="_blank">guitar</a>
          <a ng-click="showLiveLinks = false" href="https://www.facebook.com/groups/222774521466864/" target="_blank">tuba</a>
          <a ng-click="showLiveLinks = false" href="https://www.facebook.com/groups/158881161246610/" target="_blank">oboe</a>
          <a ng-click="showLiveLinks = false" href="https://www.facebook.com/groups/363584057367097/" target="_blank">clarinet</a>
          <a ng-click="showLiveLinks = false" href="https://www.facebook.com/groups/1144863825582537/" target="_blank">trombone</a>
          <a ng-click="showLiveLinks = false" href="https://www.facebook.com/groups/1517819058276334/" target="_blank">saxophone</a>
          <a ng-click="showLiveLinks = false" href="https://www.facebook.com/groups/1137083516407421/" target="_blank">bassoon</a>
          <a ng-click="showLiveLinks = false" href="https://www.facebook.com/groups/Practiceportalvln/" target="_blank">violin</a>
          <a ng-click="showLiveLinks = false" href="https://www.facebook.com/groups/1230747207018937/" target="_blank">piano</a>
          <a ng-click="showLiveLinks = false" href="https://www.facebook.com/groups/224802994614669/" target="_blank">flute</a>
          <a ng-click="showLiveLinks = false" href="https://www.facebook.com/groups/1435519730079849/" target="_blank">viola</a>
          <a ng-click="showLiveLinks = false" href="https://www.facebook.com/groups/760242687459625/" target="_blank">cello</a>
          <a ng-click="showLiveLinks = false" href="https://www.facebook.com/groups/1032810963489791/" target="_blank">bass</a>
          <a ng-click="showLiveLinks = false" href="https://www.facebook.com/groups/1627655720873882/" target="_blank">percussion</a>
          <a ng-click="showLiveLinks = false" href="https://www.facebook.com/groups/1631363607173492/" target="_blank">trumpet</a>
          <a ng-click="showLiveLinks = false" href="https://www.facebook.com/groups/687498148076618" target="_blank">voice</a>
          <a ng-click="showLiveLinks = false" href="https://www.facebook.com/groups/205198266611379/" target="_blank">french horn</a>
        </div>
        <div class="mainPage">
          <span class="videoHeaders" ng-hide="oneVideo">recent videos</span>
            <div class="container">
                 
                  <div ng-click="viewFull(content.id, content.instrument)" class="videoDiv" ng-repeat="content in videoFeed | filter:searchText | orderBy:'-realtime' |limitTo:numVideos " ng-show="!oneVideo">
                    <div id="videoLoad" ng-click="iframe=true"  style="background-image:url({{content.picture}}); background-size:cover; background-position:center">  
                    <span class="overlay_text" style="z-index: 3;">{{content.length}}</span>
                    </div>
                    <!-- <iframe src="https://www.facebook.com/video/embed?video_id={{content.id}}?autoplay=1" frameborder="0" width="270" height="180" ng-show="iframe"></iframe> -->
                    <div class = "videoText">
                    <h2>{{content.description}}</h2>
                    {{content.from.name}} | {{content.timeSince}}
                    </div>
                  </div>


                <div class="video-page" ng-show="oneVideo">
                    <div class="left-half split">
                        <iframe src="https://www.facebook.com/video/embed?video_id={{mainVideo.id}}" frameborder="0"></iframe>
                      <span>{{mainVideo.description}}</span>
                      <p>Posted by {{mainVideo.from.name}}</p>
                      <div>
                        <a class ="video-button" href="https://www.facebook.com/{{mainVideo.id}}" target="_blank">add your comments on facebook</a>
                      </div>
                     </div>
                    <div class="right-half split">
                      <div ng-repeat="comment in mainVideo.comments.data | orderBy:'-live_broadcast_timestamp':'reverse'" ng-show="comments" class="comment-container">
                      <div class="comment-top">
                        {{comment.from.name}} <span> {{comment.showTime}}</span>
                      </div>
                      <div class="comment-bottom">
                      {{comment.message}}
                      </div>
                      </div>
                      <div ng-show="!comments" class="comment-container-outer">
                      <div class="comment-container-inner">
                        <a href="https://www.facebook.com/{{mainVideo.id}}" target="_blank" class="comment-button">Add a comment to this video</a>
                        or 
                        <a href="" class="comment-button" ng-click="setInstrument(navInstrument)">check out some other {{navInstrument}} videos</a>
                        </div>
                      </div>
                  </div>
                </div>

<!--                   <div  class="video-page">
                    <div class="video">
                      
                    </div>
                    <div ng-repeat="comment in mainVideo.comments.data | orderBy:'-live_broadcast_timestamp':'reverse'" class="comment-container">
                      
                    </div>
                  </div> -->
                  

            </div>
        <div class="bottom" ng-click="numVideos = numVideos + 8"  ng-hide="oneVideo">
          <a href="" ng-click="numVideos = numVideos + 8" class="loading">load more</a>
          <svg href="" fill="#46328c" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
            <path d="M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"/>
            <path d="M0 0h24v24H0z" fill="none"/>
        </svg>
        <div id="fb-root"></div>
         
        </div>
        </div>
        <div class="footer">
          <div class="footer-left">
            <img src="../images/pplogo2.png">
            <div class="about-text">
            <h3>about practice portal</h3>
              Practice Portal is an online community of musicians who share and improve their practice methods through live stream.
              <br><br>
              For musicians, by musicians.
            </div>
          </div>
          <div class="footer-right">
            <div class="about-text">
              <h3>follow us</h3>
              <div class="follow-container">
              <a href="https://www.facebook.com/practiceportal/" target="_blank"><img src="../images/fb.png" class = "icon"></a> 
              <a href="https://www.facebook.com/practiceportal/" target="_blank">/practiceportal </a>
              </div>
              <div class="follow-container">
              <a href="https://www.instagram.com/practiceportal/" target="_blank"><img src="../images/insta.png" class="icon"></a>
              <a href="https://www.instagram.com/practiceportal/" target="_blank"> /practiceportal </a>
              </div>
              <div class="follow-container">
              <a href="https://twitter.com/PracticePortal" target="_blank"><img src="../images/twitter.png" class="icon"></a>
              <a href="https://twitter.com/PracticePortal" target="_blank"> /practiceportal </a>
              </div>
            </div>
            <div class="about-text">
              <h3>contact us</h3>
              <a href="mailto:team@practiceportal.tv">team@practiceportal.tv</a>
            </div>
          </div>
        </div>
        </div>
    </body>
</html>